## 클러스터링(Clustering) 이란?
- 클러스터링은 여러 개의 DB를 수평적인 구조로 구축하여 Single point of failure와 같은 문제를 해결할 수 있는 Fail Over한 시스템을 구축하는 방식이다.

## 클러스터링의 구현방법
- 클러스터링의 구현방법으로는 Active-Active와 Active-Standby가 있다.

**Active-Active**
- Active-Active는 클러스터를 항상 가동하여 가용 가능한 상태로 두는 구성 방식이다.
  일반적으로 하나의 서버가 부담하던 부하를 2대의 서버에서 부담하기 때문에 CPU와 메모리 자원의 부하가 감소한다. 하지만 DB스토리지를 2대의 서버가 공유하기 때문에 병목이 발생할 수 있다.

**Active-Standby**
- Active-Standby는 Active-Active의 병목현상의 단점을 보완할 수 있는 방식이다. 가동하는 클러스터를 제외한 나머지는 대기상태로 구성하여 장애 발생시 FailOver를 통해 두 서버가 상호 전환하는 방식이다.

## 클러스터링의 처리 방식
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FoaVae%2FbtqKOCg14ow%2FkkpZDYChulrTJvyqRVKLbk%2Fimg.png)
- 클러스터링은 동기 방식으로 노드들 간의 데이터를 동기화한다. 자세한 처리 순서는 다음과 같다.
1. 1개의 노드에 쓰기 트랜잭션이 수행되고, COMMIT을 실행한다.
2. 실제 디스크에 내용을 쓰기 전에 다른 노드로 데이터의 복제를 요청한다.
3. 다른 노드에서 복제 요청을 수락했다는 신호(OK)를 보내고, 디스크에 쓰기를 시작한다.
4. 다른 노드로부터 신호(OK)를 받으면 실제 디스크에 데이터를 저장한다.

## 클러스터링의 장점
- 노드가 죽으면 다른 노드가 살아있어 시스템 장애 없이 운영할 수 있다.
- 노드들 간의 데이터를 동기화 하기 때문에 항상 일관성있는 데이터를 얻을 수 있다.

## 클러스터링의 단점
- 여러 노드들 간의 데이터를 동기화하는 시간이 필요하기 때문에 리플리케이션(Replication)에 비해 쓰기 성능이 떨어진다.
- 장애가 전파된 경우 처리가 까다로우며, 데이터 동기화에 의해 스케일링에 한계가 있다.

