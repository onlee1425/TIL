## 세그멘테이션(Segmentation) 이란?
- 세그멘테이션은 페이징과 마찬가지로 메모리 관리 방법 중 하나이다. 
- 가상 메모리를 서로 크기가 다른 논리적 단위로 분할한다. 
- 즉, 프로세스를 `물리적`단위인 페이지가 아닌 `논리적`단위인 세그먼트로 분할해서 메모리에 적재하는 방식이다.

## 세그먼트 테이블
- 분할 방식을 제외하면 페이징과 세그멘테이션은 동일하기 때문에 매핑 테이블의 동작 방식도 동일하다.
- 논리 주소의 앞 비트들은 세그먼트 번호가 되며 <segment,offser> 형태로 구성된다.
- 이 세그먼트 번호를 통해 세그먼트의 기준(세그먼트의 시작 물리주소) 과 한계(세그먼트의 길이)를 파악할 수 있다.

## 세그멘테이션의 장점
- 내부 단편화 문제가 해소된다.
  - 내부 단편화란? 
  ![](https://velog.velcdn.com/images/tlsdnxkr/post/0ab09669-30e9-4d4c-a24a-b46918def7e8/image.png)
    -  메모리 할당 과정에서 발생하는 현상으로, 메모리 블록을 할당할 때 필요한 메모리보다 더 많은 메모리를 할당하는 경우 발생한다.
    -  즉, 할당된 메모리 블록 내에 실제로 사용되지 않는 공간이 있는 상태를 뜻하며 이는 시스템의 효율성을 떨어뜨린다.
- 프로그램의 중요한 부분과 중요하지 않은 부분을 분리하여 저장할 수 있으며 같은 코드 영역은 한 번에 저장할 수 있다.

## 세그멘테이션의 단점
- 외부 단편화 문제가 생길 수 있다.
  - 외부 단편화란?
  ![](https://velog.velcdn.com/images/tlsdnxkr/post/1dd03efc-209d-4485-a437-9b8a47126261/image.png)
    - 메모리 관리에서 발생하는 다른 현상으로, 사용 가능한 메모리 영역 사이에 작은 조각들이 흩어져 있는 경우 발생한다.
    - 이 조각들은 프로세스나 데이터를 저장하기에 적합하지 않으며, 이는 사용 가능한 메모리가 분산되어 있어 메모리를 할당하는 데 어려움을 발생 시킨다. 

## 페이징과 세그멘테이션의 차이점
| 특성                        | 페이징 (Paging)      | 세그멘테이션 (Segmentation) |
|---------------------------|-------------------|-----------------------|
| 기본 단위                  | 페이지 (고정 크기)       | 세그먼트 (다양한 크기)         |
| 내부/외부 단편화          | 내부 단편화 가능성 있음     | 외부 단편화 가능성 있음         |
| 주소 변환                  | 페이지 번호 + 오프셋 사용   | 세그먼트 번호 + 오프셋 사용      |
| 유연성                      | 메모리 할당이 상대적으로 불편함 | 메모리 할당이 상대적으로 유연함     |

1. 기본 단위:
   - 페이징: 페이징은 메모리를 일정한 크기의 고정된 블록인 페이지로 나누는 기법이다. 이 페이지는 모든 프로세스에 대해 동일한 크기로 설정되며, 프로세스의 논리 메모리 공간을 페이지 단위로 나눠 관리한다.
   - 세그멘테이션: 세그멘테이션은 메모리를 논리적인 블록인 세그먼트로 나누는 기법이다. 각 세그먼트는 프로세스의 다양한 논리적 섹션을 나타내며, 세그먼트의 크기는 다를 수 있다.

2. 내부 단편화와 외부 단편화:
   - 페이징: 페이징은 페이지의 크기가 고정되어 있기 때문에, 프로세스가 페이지 크기보다 작은 데이터를 가질 경우 페이지 내에 사용되지 않는 공간이 발생하며, 이로 인해 내부 단편화가 발생할 수 있다.
   - 세그멘테이션: 세그멘테이션은 세그먼트의 크기가 다양하므로, 메모리에 할당할 때 작은 공간이 남는 경우가 발생할 수 있다. 이로 인해 외부 단편화가 발생할 수 있다.

3. 주소 변환:
   - 페이징: 페이징은 물리 메모리와 논리 메모리 간의 주소 변환을 위해 페이지 번호와 오프셋을 사용한다. 페이지 테이블을 사용하여 주소 변환을 수행한다.
   - 세그멘테이션: 세그멘테이션은 논리 주소를 세그먼트 번호와 오프셋으로 나눠서 주소 변환을 수행한다. 세그먼트 테이블을 사용하여 각 세그먼트의 기준 주소와 한계 주소를 저장하고 주소 변환을 수행한다.

4. 유연성:
   - 페이징: 페이징은 메모리를 고정된 크기의 페이지로 나누기 때문에 메모리 할당이 유연하지 않을 수 있다.
   - 세그멘테이션: 세그멘테이션은 세그먼트의 크기가 다를 수 있으므로 메모리 할당이 상대적으로 더 유연다.