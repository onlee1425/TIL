## 파티셔닝(Partitioning) 이란?
- 파티셔닝은 데이터베이스를 논리적 또는 물리적으로 분할하는 것을 말한다.
- 파티셔닝은 데이터베이스에서 중요한 튜닝 기법으로, 이를 통해 대용량 데이터베이스나 분산 시스템에서 데이터를 효과적으로 관리할 수 있다.

## 파티셔닝의 목적
- 성능 향상 : 파티셔닝을 사용하면 데이터베이스에서 작업을 병렬로 처리할 수 있으므로 전반적인 성능이 향상된다. 각 파티션은 독립적으로 작동하기 때문에 동시에 여러 파티션에서 작업을 수행할 수 있다.
- 관리 용이성 : 파티셔닝을 사용하면 데이터의 일부만 백업하거나 복원할 수 있으므로 관리 작업이 더 효율적으로 수행된다.
- 데이터 격리 : 파티셔닝을 사용하면 서로 다른 데이터 집합을 분리하여 보관할 수 있으므로 데이터의 격리를 유지할 수 있다. 예를 들어, 날짜에 따라 데이터를 파티셔닝하면 오래된 데이터를 아카이빙하거나 삭제하기가 간단해진다.

## 파티셔닝의 단점
- 테이블간 JOIN 비용이 증가한다.
- 데이블과 인덱스를 별도로 파티셔닝할 수 없다.

## 파티셔닝의 종류
### 1. 수평 파티셔닝 (Horizontal Partitioning)
![](https://miro.medium.com/v2/resize:fit:720/format:webp/0*Tcc-Z2HSN03SZb0U.png)
- 수평 파티셔닝은 하나의 테이블의 각 행을 다른 테이블에 분산시키는 것이다.
- 특징 
  - 데이터의 개수를 기준으로 나누어 파티셔닝한다.
  - 데이터의 개수가 작아지기 때문에 index의 개수도 작아지게된다.
- 단점
  - 데이터를 찾는 과정이 기존보다 복잡하기 때문에 Latency가 증가하게된다.
  - 하나의 서버가 고장나면 데이터의 무결성이 깨질 수 있다. 

### 2. 수직 파티셔닝 (Vertical Partitioning)
![](https://miro.medium.com/v2/resize:fit:720/format:webp/0*arcYh7NQsgG8mDvo.png)
- 수직 파티셔닝은 테이블데이터를 열 기반으로 분할한다. 즉, 테이블의 칼럼을 기준으로 나누어 파티셔닝 한다.
- 특징
  - 자주 사용하는 칼럼을 분리하여 성능을 향상시킬 수 있다.
  - 같은 타입의 데이터가 저장되므로 데이터 압축률을 높일 수 있다.
  - 조회 시 필요 없는 칼럼을 조회하지 않기 때문에 성능이 향상된다.

## 파니셔닝 범위(분할 기준)
- 데이터베이스 관리 시스템은 분할에 대해 각종 기준을 제공한다. 분할은 분할 키(Partitioning Key)를 사용한다.
1. 범위 분할 (range partitioning)
   - 분할 키 값이 범위 내에 있는지 여부로 구분한다. 
   - 예를 들어, 우편 번호를 분할 키로 수평 분할하는 경우이다.
2. 목록 분할 (list partitioning)
   - 값 목록에 파티션을 할당 분할 키 값을 그 목록에 비추어 파티션을 선택한다.
   - 예를 들어 각 시의 이름을 묶어 도라는 지역 파티션을 생성할 수 있다.
3. 해시 분할 (hash partitioning)
   - 해시 함수의 값에 따라 파티션에 포함할지 여부를 결정한다.
   - 예를 들어, 4개의 파티션으로 분할하는 경우 해시 함수는 0-3의 정수를 돌려준다.
4. 합성 분할 (composite partitioning)
   - 상기 기술을 결합하는 것을 의미한다.

참고 : https://soye0n.tistory.com/267